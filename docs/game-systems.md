# **第1章：世界観及びストーリー設計**
docs/story.mdを参照

# **第2章：主要ゲームシステム**

## **2.1. ワールドシステム**

本ゲームの進行は「ワールド」と呼ばれる独立したステージ単位で管理される。各ワールドには、進行に必須となる「鍵」が1つ、および最深部に「ボス」が1体、確定的に配置される。ボスを撃破するか、あるいは「ワールドリタイア」を選択することにより、現在のワールドはリセットされ、新たな構造を持つワールドが自動生成される。

### **2.1.1. ワールドの構成要素**

* **ドメイン**: 各ワールドには固有の「ドメイン」が設定されており、これは当該ワールドの名称および世界観を規定する概念である。ドメインは、ディレクトリ構造、敵キャラクター、アイテムの命名規則に影響を及ぼす。
* **階層構造マップ**: ワールドのマップは、ファイルシステムを模した階層構造で表現され、最大深度が設定されている。
* **ワールドレベル**: ワールドにはレベルが設定されており、これはマップの最大深度、敵の強度、入手可能アイテムの性能、ランダムイベントの内容などに影響する。
* **ボス配置**: ワールドマップの最深階層に、ボスキャラクターが存在するディレクトリが配置される。
* **鍵システム**: ボスディレクトリへのアクセスには、ワールド内に隠された特定の「鍵」アイテムが必要となる。
* **クリア条件**: ボスキャラクターの撃破が、当該ワールドのクリア条件となる。

### **2.1.2. ワールド生成アルゴリズム**

* **最大階層深度**: 3 + ワールドレベル（下限値4、上限値10）
* **ディレクトリ構造**:
  * ルートディレクトリ名: ドメイン名（例: tech-startup, game-studio）
  * 各階層のディレクトリ数: 2から5の範囲でランダムに決定
  * ディレクトリ名: ドメインのテーマに応じた命名規則（例: tech-startupドメインの場合、src, lib, apiなど）
* **ファイル配置**:
  * 各ディレクトリのファイル数: 1から8の範囲でランダムに決定
  * ファイルタイプの出現確率分布:
    * モンスター: 40%
    * 宝箱: 25%
    * イベント: 10%
    * セーブポイント: 5%
    * 空ファイル: 20%
  * 隠しファイルの出現率: 10%（対象ファイルのグレードが+1される）
* **特殊配置規則**:
  * ボスディレクトリ: 最深階層に1つ確定配置
  * 鍵: ボス以外の宝箱のうち1つに確定配置
  * セーブポイント: 各階層に最低1つを保証
  * 階層深度に比例し、出現するモンスターの強度とアイテムの品質が上昇する傾向を持つ。
* **ドメインの具体例**:
  * tech-startup: src/, api/, config/, tests/
  * game-studio: assets/, scripts/, levels/, builds/
  * web-agency: client/, server/, public/, deploy/

### **2.1.3. ワールド進行管理**

* **クリア後の選択肢**: ワールドクリア時、プレイヤーは次ワールドの難易度を「レベルアップ」「レベル維持」「レベルダウン」から選択できる。
* **ワールドリタイア**: プレイヤーは任意のタイミングで現行ワールドを破棄し、新たなワールドを生成することが可能である。
* **データ継承**: 新ワールドへの移行時、プレイヤーのステータスおよび装備品は全て維持されるが、「鍵」は失われる。
* **ワールド履歴の保存**: 過去に訪れた全てのワールドに関する情報（ドメイン、レベル、クリア状況、訪問日時）が記録される。

### **2.1.4. 鍵システム**

* **入手方法**: 宝箱から確率で入手
* **所持制限**: 鍵は同時に1つしか所持できない。
* **用途**: ボスディレクトリへのアクセス権として機能する。
* **リセット**: 新ワールドへ移行する際に自動的に消滅する。

### **2.1.5. ボスディレクトリ**

* **視覚的特徴**: 他のファイルと明確に区別可能なインターフェイスを持つ。
* **アクセス制御**: 鍵を所持していない状態でアクセスを試みた場合、Unix風のエラーメッセージが表示される。
* **配置**: 各ワールドの最深階層に確定的に配置される。
* **内容物**: ボスキャラクター本体に加え、比較的高性能なアイテムが配置されている。

## **2.2. マップ及び探索システム**

* **構造**: ゲームマップは、一般的なプロジェクトディレクトリを模した階層構造で表現される。
* **自動生成**: ワールド生成時に、ディレクトリとファイルの構造はランダムに生成される。
* **ナビゲーション**: 探索はcd, ls, pwd, treeといったコマンドを用いて行われる。
* **現在位置表示**: プレイヤーの現在位置は、絶対パス形式で常に表示される（例: /projects/web-app/src/components/）。

### **2.2.1. マップ上のオブジェクト**

* **モンスター**: プログラムファイル（.js, .ts, .pyなど）を模したオブジェクト。接触により戦闘が発生する。
* **宝箱**: 設定ファイル（.yaml, .jsonなど）を模したオブジェクト。ランダムな装備または消費アイテムを1つ内包する。
* **イベント**: 実行ファイル（.exe, .binなど）を模したオブジェクト。起動するとランダムな事象が発生する。
* **セーブポイント**: マークダウンファイル（.md）を模したオブジェクト。HP/MPの全回復とゲームデータの保存が可能。
* **隠しファイル**: .で始まるファイル名を持つオブジェクト。モンスターまたは宝箱であり、通常より高いグレードを持つ。

### **2.2.2. セーブシステム**

* **保存ディレクトリ**: ~/.typengquest/saves/
* **ファイル形式**: JSON形式 (save_<slot_number>.json)
* **最大スロット数**: 3
* **オートセーブ**: ワールドクリア時にスロット0へ自動的にデータが保存される。

### **2.2.3. ファイルへのインタラクション**

* **内容調査**: cat, head, fileコマンドにより、ファイルオブジェクトの基本情報を調査できる。
* **インタラクションの判定**: ファイルタイプに応じて適切なコマンドを使用することで、オブジェクトとのインタラクションが発生する。
  * モンスター (.js, .ts, .py等):
    * cat <file>: 戦闘開始
    * head <file>: 敵の強度を戦闘なしで確認
    * vim <file> / nano <file>: 戦闘開始
  * 宝箱 (.yaml, .json等):
    * cat <file>: アイテム取得
    * head <file>: 内容物のヒントを表示
    * jq . <file> / yq . <file>: アイテム取得
  * イベント (.exe, .bin等):
    * ./<file>: イベント実行
    * file <file>: イベント内容のヒントを表示
    * chmod +x <file>: 有害イベントの効果を軽減するための事前準備
  * セーブポイント (.md):
    * cat <file>: 内容表示およびセーブの選択
    * vim <file> / nano <file>: セーブ実行およびHP/MPの全回復
* **作用回数の制限**: 一度インタラクションを行ったファイルは、再度の作用が不可能となる。ただし、セーブポイントは例外的に何度でも利用可能である。

## **2.3. プレイヤーシステム**

* **ステータス**: プレイヤーの基礎能力値は、HP（ヒットポイント）、MP（マジックポイント）、strength（物理攻撃力）、willpower（精神力）、agility（敏捷性）、fortune（幸運）の各パラメータによって構成される。
* **レベル**: プレイヤーの総合的な成長度を示す指標。倒した敵のレベルが自身のレベルを上回る場合、敵のレベルに合わせて自己のレベルが上昇する。
* **状態**: プレイヤーの現在状況を示す。これには、一時的な能力強化（バフ）、能力低下（デバフ）、状態異常、およびワールド固有の特殊ステータスが含まれる。

### **2.3.1. ステータス計算式**

* **基本HP**: 100 + (レベル × 10)
* **基本MP**: 100 + (レベル × 2)
* **HP/MPの仕様**:
  * HP: 戦闘終了時に最大値まで自動回復する。特定のイベントやアイテムにより、一時的に最大値を超えて回復することも可能である。
  * MP: 戦闘終了時に0にリセットされる。スキル使用時に消費される。
* **ダメージ計算式**:
  * スキル効果は、三段階の成功判定を経て最終的な効果が決定される。
  * 第1段階: スキル全体の成功率判定（タイピング評価にのみ依存）。成功率は0%から200%の範囲で補正される。
  * 第2段階: スキルに付随する各効果の個別成功率判定（固定値）。
  * 第3段階: 効果量の威力計算（strength, willpower, agility, fortuneのいずれかが影響）。
  * 影響後威力 = 基本威力 × (1 + (影響パラメータ値 × 影響率) / 100)
  * クリティカル発生率 = スキル固有の基本クリティカル率（上限100%）
  * 最終ダメージ = 影響後威力 × (クリティカル発生時: 1.5)
* **各ステータスの効果**:
  * **strength**: 物理攻撃系スキルのダメージ量に影響。
  * **willpower**: 回復・補助系スキルの効果量、およびデバフ効果の持続時間や回復速度に影響。
  * **agility**: 行動順の決定、行動ポイント、タイピングチャレンジにおけるボーナスに影響。
  * **fortune**: アイテムのドロップ率、状態異常の付与成功率などに影響（クリティカル率には影響しない）。
* **アイテムドロップ率**:
  * 基本ドロップ率 = 30 + (fortune / 10) + (ワールドレベル × 5)%
  * この値は、最小30%、最大80%の範囲に制限される。

## **2.4. アイテムシステム**

### **2.4.1. アイテムの分類**

* **消費アイテム**
* **アクセサリ**
* **だいじなもの**

#### データ構造の概要

* **ポーション (Potion)**: `id`, `name`, `description`, `type: "potion"`, `effects` の配列で構成される。レアリティの概念は排除されており、表示名は常に`name`をそのまま利用する。
* **アクセサリ (Accessory)**: インベントリIDとベース定義IDを併せ持つ単一クラスで管理する。`id`, `name`, `description`, `type: "accessory"` の基本情報と、ベース定義を `accessory` スナップショットとして保持する構造は維持しつつ、名称生成・効果計算・シリアライズをAccessoyが直接担当する。スナップショットには `id` / `name` / `grade` / `mainEffect` / `subEffects` が含まれ、`mainEffect` 内に固有ID（`mainEffect.id`）を格納して旧来の `definitionId` / `mainEffectId` 参照を置き換える。アクセサリインスタンス自体は `definitionId` プロパティを保持せず、必要に応じて `mainEffect.id` を参照してベース定義を決定する。

### **2.4.2. 消費アイテム**

* **回復系**:
  * ライフポーション: HPを一定量回復。
  * マナポーション: MPを一定量回復。
  * オーバーヒールポーション: HPを最大値を超えて回復。
* **能力強化（バフ）系**:
  * ストレングスバフ: strengthを一時的に上昇。
  * ウィルパワーバフ: willpowerを一時的に上昇。
  * アジリティバフ: agilityを一時的に上昇。
  * フォーチュンバフ: fortuneを一時的に上昇。
* **状態回復系**:
  * 状態異常回復: 全ての持続的な状態異常を回復。
  * 一時無敵: 一定時間、ダメージを無効化。
* **特殊系**:
  * EXポイント回復: EXポイントを一定量回復。

### **2.4.3. アクセサリ（装備アイテム）**

プレイヤーが装備可能なアイテム。最大3つまで同時に装備できる。ステータスを調整する効果や、戦闘・探索を有利に進めるための特殊効果をプレイヤーに付与する。詳細は「装備システム」の章で詳述する。

### **2.4.4. だいじなもの**

* **鍵**: ボスディレクトリへのアクセスに必須。
* **ボスドロップ**: ボスを撃破した際に得られる、固有の記念アイテム。
* **システム解放アイテム**: ゲーム内の新機能を段階的に解放するためのキーアイテム。
  * Combat Manual: Combo Boostシステムを解放。
  * Focus Meditation Scroll: Focus ModeおよびEX Pointシステムを解放。
  * Spark Technique Manual: Spark Modeシステムを解放。
  * Accessory Mastery Ring: 2個目および3個目のアクセサリスロットを解放。

## **2.5. 装備システム（アクセサリ）**

本システムは、スキルシステムから完全に独立しており、プレイヤーキャラクターのカスタマイズにおけるシンプルさと戦略性を提供することを目的とする。アクセサリはタイプごとに強化するステータス傾向（例: 攻撃特化、支援特化、機動特化）が固定されており、プレイヤーはこの「癖」を利用してビルドを組み立てる。各アクセサリにはグレード（Grade 1〜Grade 100）が設定され、解放済みのワールドレベルと同期して到達上限が決まる。ワールドレベルは1〜100の範囲で推移し、5刻み（1, 5, 10, …, 100）で上昇するたびに、その値以下のグレードを持つアクセサリが入手・装備・合成可能になる。グレードが高いほどアクセサリ固有の強みが倍率的に強調される。

### **2.5.1. 装備スロット**

* **アクセサリスロット1**
* **アクセサリスロット2**
* **アクセサリスロット3**
  (最大3スロット。初期状態は1スロットで、「だいじなもの」の入手により順次解放される)

### **2.5.2. アクセサリの効果**

アクセサリは、以下のいずれか、あるいは両方の効果をプレイヤーに付与する機能を有する。

* **ステータス偏向の増幅**: アクセサリタイプ固有のステータス（攻撃型ならstrength、支援型ならwillpowerなど）を基礎値に対する割合で上昇させる。Grade 1では+8%程度から始まり、Grade 100では+35%付近まで伸長する。タイプが苦手とするステータスに対しては、初期段階でペナルティを設ける場合でも、グレードが高いほど緩和される。
  * 名前はアクセサリのタイプに由来する。
    * Glove
    * Ring
    * Necklace
    * Bracelet
    * Earring
* **特殊効果の付与**: 戦闘や探索に影響を与える特殊効果（例: 「クリティカル発生時に追加MP回復」「タイピング制限時間+1秒」「状態異常耐性+40%」など）を付与する。アクセサリは最大3枠までの特殊効果スロットを保持し、空のままでもよい。合成で得た候補効果から0〜3枠の任意構成を選択して固定できる。
* **アクセサリの名前**: メイン効果名（例: glove / ring / necklace）とサブ効果名、グレード番号を組み合わせるルールで命名される。
  * 例: タイピング制限時間+1秒 状態異常耐性+40% glove G20
  * 例: Hermes Ring 75 (支援型 x 状態異常耐性+40% x Grade 75)
効果はアクセサリごとに「メイン効果（ステータス偏向）」と「サブ効果（特殊効果スロット）」の二層構造で管理される。メイン効果はタイプによって固定であり、サブ効果のみ合成で入れ替え・統合する。

### **2.5.3. グレードシステム**

グレードはアクセサリの発展段階を示し、現在の最高ワールドレベル達成状況に応じて上限が決定する。ワールドレベルが上昇すると、その値以下のグレード帯（例: ワールドレベル25到達でGrade 25まで）がドロップ・合成の対象に解禁される。グレード値は1〜100の整数で管理され、値が高いほどメイン効果倍率が緩やかに増加し、アクセサリ固有の癖が顕著になる。

グレードごとの代表的な指標例:

* **Grade 1**: 初期入手帯。メイン効果倍率+8%、ペナルティ-12%程度。
* **Grade 25**: 中盤帯。メイン効果倍率+18%、ペナルティ-6%。
* **Grade 50**: 後半帯。メイン効果倍率+24%、ペナルティ-3%。
* **Grade 75**: 高難度帯。メイン効果倍率+30%、ペナルティ-1%。
* **Grade 100**: 最終帯。メイン効果倍率+35%、ペナルティ0%、シグネチャ補正（例: 特殊効果の相乗ボーナス+10%）が付与される。

### **2.5.4. 合成システム**

アクセサリの合成は、メイン効果が同じアクセサリを2個消費して特殊効果を再構成する手段である。合成処理は以下の手順で実施する。

1. **素材投入**: メイン効果が一致するアクセサリ2個（ベース＋素材）を投入する。
2. **グレード決定**: 合成後のアクセサリは、投入した2つのうち高い方のグレードを引き継ぐ。これにより、より高グレードのアクセサリをベース化することで実質的な格上げが可能となる。
3. **特殊効果選択**: ベースと素材が保持していた特殊効果プールから、任意の3つを選択してベースに固定する。

### **2.5.5. 成長とマネジメントフロー**

1. ワールド探索でタイプ違い・グレード違いのアクセサリを収集し、Grade 1〜25帯でビルドの方向性を把握する。
2. ワールドレベルを5刻みで引き上げていき、対応グレード帯のアクセサリを確保する。
3. 高グレードアクセサリを素材として合成し、ベースのグレードを引き上げつつ、特殊効果候補から任意の0〜3枠を厳選する（例: タイピング支援＋状態異常耐性＋クリティカル補助）。
4. Grade 100帯に到達したアクセサリは、シグネチャ補正を活かし、他装備・スキルとのシナジーを前提に最終調整を行う。

このフローにより、プレイヤーはワールドレベル進行と同調した段階的なグレード引き上げと、最大3枠までの柔軟な特殊効果マネジメントによってビルドの多様性をコントロールできる。

#### 実装メモ（2025-09-22）
- `AccessorySlotManager` がアクセサリスロット（初期1枠、キーアイテムで最大3枠）とグレード解禁／合成候補を一元管理する。
- `AccessoryCatalog` と `Accessory` クラスにより、データ定義（`data/accessories/main-effects.json` / `sub-effects.json`）から命名規則「サブ効果名の並び＋メイン効果名＋Grade番号」を自動適用する。
- プレイヤーは `Player` クラス内でワールドレベルと装備集約を直接管理し、`EquipmentStats` はアクセサリ効果のブースト／ペナルティ差分を表す。
- インベントリ／装備フェーズはアクセサリ専用UIに刷新され、所持アクセサリの装備可否（ワールドレベル制限・ロックスロット）を即時フィードバックする。

## **2.6. スキルシステム**

本システムは、プレイヤー自身の能力としてスキルを習得・使用するものであり、装備品からは独立している。

### **2.6.1. 概要**

スキルは、戦闘中にAPやMPを消費して発動するアクションである。
一度習得したスキルは永続的に保持され、戦闘中はいつでも使用が可能となる。

### **2.6.2. スキルの習得**

スキルの習得は、ワールド探索中に発生する「スキル習得チャレンジ」を達成することにより行われる。詳細は次章で記述する。

## **2.7. スキル習得チャレンジ：正規表現デバッガー**

スキルは、ワールド探索中に発見される特定のファイル（例: validator.js, parser.c）に対して所定のアクションを実行することで開始される「正規表現デバッガー」チャレンジを達成することにより習得される。

* 概要:
  本チャレンジは、不完全な正規表現を、提示される複数のテストケースに基づいて修正する論理パズルである。「破損したバリデーションルールを修復する」という設定の下、プレイヤーの論理的思考力を試す。
* **チャレンジの流れ**:
  1. validator.jsのような特定ファイルにcatコマンドを使用するとチャレンジが開始される。
  2. インターフェイスには「不完全な正規表現」と、そのテスト条件が表示される。
     * **適合必須文字列群:** ["090-1.234-5678", "080-9999-0000"]
     * **不適合必須文字列群:** ["abc-defg-hijk", "090-1.234-567"]
  3. プレイヤーは正規表現を編集し、全てのテストケースに合格するよう修正を行う。
  4. 修正された正規表現が全ての条件を満たした時点で「デバッグ完了」と判定され、チャレンジは達成となる。
  5. 難易度はワールドレベルに依存し、進行度に応じて、より複雑なパターンやエッジケースへの対応が要求される。
* 報酬:
  チャレンジ達成により、破損したロジックが「修復」されたと見なされ、新たなスキルが解放される。

## **2.8. タイピングチャレンジ**

「タイピングチャレンジ」は、指定された単語または文章（以下、「課題テキスト」）を正確かつ迅速に入力することを目的とした、リアルタイム形式の技能試験である。

* **難易度**: 課題テキストの単語長や文章の複雑性に応じて難易度が設定される。
* **評価**: 入力の速度と精度が測定され、総合的な評価が算出される。

### **2.8.1. 難易度設定**

* **レベル1 (最低)**: 3-5文字の単語 (例: "cat", "help", "run")
* **レベル2 (低)**: 6-8文字の単語 (例: "attack", "defense", "escape")
* **レベル3 (中)**: 9-12文字の単語 (例: "programming", "javascript")
* **レベル4 (高)**: 短文 (例: "quick brown fox")
* **レベル5 (最高)**: 複雑な構文の文章 (例: "The quick brown fox jumps over the lazy dog")

### **2.8.2. タイピング評価基準**

* **制限時間**: 基本時間10秒に、難易度レベルごとに5秒が加算される。
* **速度評価**: Fast (制限時間の70%以内), Normal (85%以内), Slow (制限時間内), Miss (時間超過)
* **精度評価**: Perfect (100%), Good (95%以上), Poor (94%以下)
* **総合評価**: 速度と精度の組み合わせにより、スキル成功率にボーナスが付与される。
  * Fast + Perfect: +35
  * Normal + Perfect: +30
  * Fast + Good: +25
  * その他の組み合わせは、これに準じて段階的に減少する。

### **2.8.3. タイピングフェーズの実装仕様**

* Enterキー不要のリアルタイム入力受付。
* 入力進捗のリアルタイム表示。
* 誤入力の即時フィードバック（例: 文字色の変更）。
* バックスペースキーによる訂正機能。
* 残り時間のカウントダウン表示。

## **2.9. 戦闘システム**

戦闘は、プレイヤーと敵対キャラクターが交互に行動を選択・実行するターン制バトルシステムを採用している。

* **行動選択**: プレイヤーは「スキル使用」「アイテム使用」「逃走」から行動を選択する。
  * **スキル使用**: タイピングチャレンジを伴う特殊攻撃。
  * **アイテム使用**: タイピングチャレンジなしで消費アイテムの効果を発動。
  * **逃走**: タイピングチャレンジを行い、成功すると戦闘から離脱。
* **勝敗判定**: 各ターンの終了時に、双方のHPを判定する。
  * プレイヤーHPが0以下: ゲームオーバー
  * 敵HPが0以下: 勝利
* **勝利後**: 敵を撃破した際、アイテムドロップ判定が行われる。ドロップ率はワールドレベルとfortuneステータスに依存する。

### **2.9.1. スキル実行システム**

* **スキル属性**: 物理と魔法の2系統が存在する。
* **敵の回避**: 敵は物理・魔法それぞれの回避率を持つ。
* **行動予告**: 敵が次ターンに使用するスキルは、事前にプレイヤーへ開示される。
* **MPシステム**: 敵キャラクターにはMPの概念は存在せず、スキルの使用に制限はない。

### **2.9.2. EX Pointシステム**

* **獲得**: タイピングチャレンジの難易度と評価に応じて獲得。
* **Focus Mode**: 全スキルの行動コストが1、MPコストが0となり、タイピング難易度が最低になる特殊モード。ただし、1回のミスでターンが強制終了する。
* **Spark Mode**: 選択した1つのスキルを、1文字タイピングの成功回数に応じて連続発動させる特殊攻撃。

### **2.9.3. EXポイント計算式**

floor(タイピング難易度 × 速度評価倍率 × 精度評価倍率)

* **速度倍率**: Fast=2.0, Normal=1.5, Slow=1.0, Miss=0.0
* **精度倍率**: Perfect=2.0, Good=1.0, Poor=0.5
* **計算例**:
  * 難易度5、Fast+Perfect: floor(5 × 2.0 × 2.0) = 20
  * 難易度3、Normal+Good: floor(3 × 1.5 × 1.0) = 4

## **2.10. ランダムイベントシステム**

イベント発生時、有益または有害な事象がランダムに決定される。

### **2.10.1. 有益なイベント**

* **アイテム発見**: 消費アイテムまたはアクセサリを入手。
* **ステータス強化**: 当該ワールド内でのみ有効な、一時的なステータス上昇。
* **情報入手**: 鍵またはボスの絶対パスが判明。

### **2.10.2. 有害なイベント**

以下のイベントは全て、低難易度のタイピングチャレンジに成功することで回避または効果の軽減が可能である。

* **ダメージ**: HPの減少（現在HPが1未満にはならない）。
* **デバフ**: ステータスの低下。
* **強制移動**: ワールド内のランダムな位置へ転送。
* **ウイルス感染**: 状態異常の付与。

# **第3章：ユーザーインターフェイス**

## **3.1. CLI（コマンドラインインターフェイス）**

本作のユーザーインターフェイスは、コマンドラインインターフェイスを全面的に採用しており、プレイヤーはbash風のコマンド入力によってゲームを進行させる。ゲームの状態は「フェーズ」として管理され、各フェーズで使用可能なコマンドは制限される。

### **3.1.1. フェーズの定義**

* **タイトル**: ゲームの開始、データロード、終了を選択する。
* **マップ探索**: 通常のゲーム状態。ディレクトリ間の移動やファイルへのインタラクションを行う。
* **ダイアログ**: システムからの問いに対し、yesまたはnoで応答する。
* **インベントリ**: アイテムの使用や装備の変更を行う。
* **バトル**: 戦闘中の行動を選択する。
* **タイピングチャレンジ**: リアルタイムの文字入力が要求される特殊フェーズ。

### **3.1.2. 共通コマンド**

help      # 現在のフェーズで利用可能な全コマンドのリストを表示
history   # 過去に入力したコマンドの履歴を表示
clear     # 画面表示をクリア

### **3.1.3. タイトルフェーズのコマンド**

start      # 新規にゲームを開始
load       # セーブデータをロード
exit       # ゲームを終了

### **3.1.4. マップ探索フェーズのコマンド**

pwd           # 現在のワーキングディレクトリを表示
ls            # 現在ディレクトリの内容をリスト表示
ls -a         # 隠しファイルを含めてリスト表示
ls -l         # 詳細情報をリスト表示
ls -la        # 隠しファイルを含む詳細情報をリスト表示
cd <path>     # 指定したパスへ移動
cd ..         # 親ディレクトリへ移動
cd ~          # ルートディレクトリへ移動
cd            # (引数なし) ルートディレクトリへ移動
tree          # ディレクトリ構造をツリー形式で表示
find <name>   # ファイルまたはディレクトリを検索
grep <word> <file> # ファイル内の文字列を検索
<command> | grep <word> # コマンド実行結果をフィルタリング
file <name>   # ファイルタイプを調査
cat <file>    # ファイルに対する主要なインタラクションを実行
head <file>   # ファイルのプレビュー（戦闘なしの調査など）
vim <file>    # エディタを模したインタラクション（戦闘、セーブなど）
nano <file>   # vimに同じ
jq . <file>   # JSONファイルに対するインタラクション（宝箱開封など）
yq . <file>   # YAMLファイルに対するインタラクション（宝箱開封など）
./<file>      # 実行ファイルに対するインタラクション（イベント発生など）
chmod +x <file> # 実行権限の付与（イベント準備）
inventory     # インベントリフェーズへ移行
status        # プレイヤーの現在ステータスを表示
retire        # 現在のワールドを破棄して再生成

### **3.1.5. ダイアログフェーズのコマンド**

yes           # 肯定応答
no            # 否定応答

### **3.1.6. インベントリフェーズのコマンド**

ls                  # 所持アイテムのリストを表示
use <item>          # 消費アイテムを使用
equip <slot> <item> # 指定スロットにアクセサリを装備
unequip <slot>      # 指定スロットのアクセサリを解除
status              # プレイヤーの現在ステータスを表示
equipments          # 現在の装備品リストを表示
exit                # マップ探索フェーズへ復帰

### **3.1.7. バトルフェーズのコマンド**

status        # プレイヤーの現在ステータスを表示
skill <skill> # 指定したスキルを使用（タイピングチャレンジへ移行）
skills        # 習得済みスキルの一覧を表示
use <item>    # 消費アイテムを使用
items         # 所持消費アイテムの一覧を表示
run           # 戦闘からの逃走を試みる（タイピングチャレンジへ移行）

### **3.2. 操作性（ユーザビリティ）**

* 上下方向キーによるコマンド履歴の参照機能。
* Tabキーによるコマンドおよびファイル名の補完機能。
* Ctrl+Cによる入力中コマンドのキャンセル機能。
