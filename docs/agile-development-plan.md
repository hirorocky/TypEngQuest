# アジャイル開発計画

## 開発体制
- **プロダクトオーナー（ステークホルダー）**: あなた
- **開発者**: Claude
- **レビューサイクル**: 各サブプロジェクト完了時

## プロジェクト一覧

### 🎯 プロジェクト1: 基礎インフラ構築 ✅
**目標**: CLIゲームの土台を作り、タイトル画面を表示する

**成果物**:
- `npm start`でタイトル画面が表示される
- start/exit コマンドが動作する

**タスク**:
1. プロジェクト初期設定（package.json, tsconfig等）
2. エントリーポイント（index.ts）作成
3. Gameクラスとフェーズシステムの基礎実装
4. CommandParserの基礎実装
5. TitlePhaseの実装
6. 基本的なDisplay/UIユーティリティ

**チェックポイント**: タイトル画面でstart/exitが動作すること

---

### 📁 プロジェクト2: ファイルシステムナビゲーション ✅
**目標**: ゲーム内でディレクトリを移動できるようにする

**成果物**:
- ハードコードされた仮想ファイルシステムを探索できる
- ls, cd, pwd, tree コマンドが動作する

**タスク**:
1. FileNode, FileSystemクラスの実装
2. ExplorationPhaseの基礎実装
3. ナビゲーションコマンド（cd, ls, pwd, tree）の実装
4. 仮のファイルシステム構造を作成
5. コマンド履歴とTab補完機能

**チェックポイント**: ディレクトリ間を自由に移動でき、ファイル一覧が見られること

---

### 🌍 プロジェクト3: ワールド生成システム ✅
**目標**: ランダムなワールドを生成し、探索できるようにする

**成果物**:
- ゲーム開始時にランダムなワールドが生成される
- ドメインに応じた名前のディレクトリ/ファイルが生成される
- コマンド補完システムの実装

**タスク**:
1. Worldクラスの実装
2. WorldGeneratorの実装
3. domainsデータの作成
4. ランダム生成アルゴリズムの実装
5. ボスディレクトリと鍵の配置（アクセスはまだ不可）

**チェックポイント**: 毎回異なるワールドが生成され、探索できること

---

### 📁 プロジェクト2B: ファイルシステムナビゲーション2 ✅
**目標**: ゲーム内でディレクトリを快適に移動できるようにする

**成果物**:
- historyコマンドでコマンド履歴が表示される
- Tab補完機能の実装
- lsコマンドでディレクトリが青色太字で表示される

**タスク**:
- historyコマンドでコマンド履歴が表示される
- Tab補完機能の実装
- lsコマンドでディレクトリが青色太字で表示される

**チェックポイント**: 上記成果物ができていること

---

### 📂 プロジェクト4: ファイル操作コマンド ✅
**目標**: 基本的なファイル操作コマンドを実装する

**成果物**:
- fileコマンドが動作する
- ファイル内容の表示機能

**タスク**:
1. FileCommandの実装
   1. ファイルがどのタイプなのかを判定し、相互作用するためのコマンドを表示
2. ファイルタイプに応じたコマンドの実装（実行後の処理はまだ無くて良い、仮のログだけ出す）
  - MONSTER: battle <ファイル名>
  - TREASURE: open <ファイル名>
  - SAVE_POINT:
    - save <ファイル名> (セーブ)
    - rest <ファイル名> (HP, MP回復)
  - EVENT: execute <ファイル名>

**チェックポイント**: 基本的なファイル操作コマンドが動作すること

---

### 👤 プロジェクト5A: プレイヤー基本システム
**目標**: プレイヤーの基本情報を管理する

**成果物**:
- Playerクラスの実装
- 基本ステータス（レベル、名前）の管理

**タスク**:
1. Playerクラスの実装
2. 基本ステータス管理
3. プレイヤー情報の表示
4. レベルシステムの基礎実装

**チェックポイント**: プレイヤーの基本情報が管理できること

---

### 👤 プロジェクト5B: HP/MPシステム
**目標**: HP/MPシステムを実装する

**成果物**:
- HP/MPの概念が導入される
- statusコマンドでステータス表示

**タスク**:
1. Statsクラスの実装
2. HP/MPシステムの実装
3. statusコマンドの実装
4. ステータス変更機能

**チェックポイント**: HP/MPシステムが動作すること

---

### 📦 プロジェクト6A: アイテム基礎システム
**目標**: アイテムの基本構造を実装する

**成果物**:
- Item基底クラスの実装
- ConsumableItemの実装

**タスク**:
1. Item基底クラスの実装
2. ConsumableItemの実装
3. アイテム効果システム
4. アイテムデータ構造

**チェックポイント**: アイテムの基本構造が動作すること

---

### 📦 プロジェクト6B: インベントリシステム
**目標**: アイテムの管理と表示を実装する

**成果物**:
- インベントリでアイテム確認可能
- 宝箱ファイル（.json/.yaml）を開くとアイテム入手

**タスク**:
1. Inventoryクラスの実装
2. 宝箱の作用実装（openコマンド）
3. InventoryPhaseとinventoryコマンドの実装
4. アイテム使用機能

**チェックポイント**: アイテムの入手と確認ができること

---

### ⚔️ プロジェクト7A: 装備アイテム基礎
**目標**: 装備アイテムの基本構造を実装する

**成果物**:
- EquipmentItemの実装
- 装備スロットシステム

**タスク**:
1. EquipmentItemの実装
2. 装備スロットシステム
3. 装備効果の基礎実装
4. 装備データ構造

**チェックポイント**: 装備アイテムの基本構造が動作すること

---

### ⚔️ プロジェクト7B: 装備システム完成
**目標**: 装備システムと英文法チェック機能を実装する

**成果物**:
- 装備アイテムを5つまで装備可能
- 英文として成立する組み合わせのみ装備可能

**タスク**:
1. Equipmentクラスと文法チェック機能
2. 装備コマンド（equip/unequip）の実装
3. 装備効果の計算と反映
4. 装備データの作成

**チェックポイント**: 装備の変更と文法チェックが動作すること

---

### ⌨️ プロジェクト8A: タイピングUI完成
**目標**: タイピングのUI機能を完成させる

**成果物**:
- 独立したタイピングテストモード(問題文は固定でOK)
- 速度と精度の評価が表示される

**タスク**:
1. TypingPhaseの実装
2. リアルタイム入力処理とプログレス表示
3. 評価結果の表示機能
4. タイピングテストモードの実装

**チェックポイント**: タイピングチャレンジが単体で動作すること

---

### ⌨️ プロジェクト8B: タイピング基礎システム
**目標**: タイピングチャレンジの基本機能を実装する

**成果物**:
- TypingChallengeクラスの実装
- 基本的なタイピング評価機能

**タスク**:
1. TypingChallengeクラスの実装
2. TypingEvaluatorの実装
3. WordDatabaseの作成
4. 基本的なタイピング機能

**チェックポイント**: 基本的なタイピング機能が動作すること

---

### 🗡️ プロジェクト10A: 戦闘基礎システム
**目標**: 戦闘の基本構造を実装する

**成果物**:
- Enemyクラスの実装
- Battleクラスの実装

**タスク**:
1. Enemyクラスの実装
2. Battleクラスの実装
3. BattleCalculatorの実装
4. 基本的な戦闘処理

**チェックポイント**: 基本的な戦闘処理が動作すること

---

### 🗡️ プロジェクト10B: 戦闘システム完成
**目標**: 戦闘システムを完成させる

**成果物**:
- battleコマンドで戦闘開始
- ターン制バトルが機能する
- 技使用時にタイピングチャレンジ発生

**タスク**:
1. BattlePhaseの実装
2. 技システムとタイピング連携
3. 戦闘UI完成
4. 戦闘システム統合

**チェックポイント**: 戦闘が最初から最後まで動作すること

---

### 🎲 プロジェクト11A: イベント基礎システム
**目標**: イベントの基本構造を実装する

**成果物**:
- RandomEventクラスの実装
- GoodEvents/BadEventsの実装

**タスク**:
1. RandomEventクラスの実装
2. GoodEvents/BadEventsの実装
3. イベント効果の実装
4. 基本的なイベント処理

**チェックポイント**: 基本的なイベント処理が動作すること

---

### 🎲 プロジェクト11B: イベントシステム完成
**目標**: イベントシステムを完成させる

**成果物**:
- executeでイベント発生
- 良い/悪いイベントがランダムに発生
- タイピングで悪いイベントを回避可能

**タスク**:
1. イベントファイルの作用実装
2. DialogPhaseの実装
3. タイピングによるイベント回避機能
4. イベントシステム統合

**チェックポイント**: 各種イベントが正常に動作すること

---

### 👑 プロジェクト12A: 鍵システム
**目標**: 鍵とアクセス制御を実装する

**成果物**:
- KeyItemの実装
- ボスディレクトリのアクセス制御

**タスク**:
1. KeyItemの実装
2. ボスディレクトリのアクセス制御
3. 鍵の入手・使用機能
4. アクセス制御システム

**チェックポイント**: 鍵システムが動作すること

---

### 👑 プロジェクト12B: ボス・クリアシステム
**目標**: ボス戦とワールドクリアを実装する

**成果物**:
- ボスを倒すとワールドクリア
- 新ワールドへの移行が可能

**タスク**:
1. ボス戦の特別な演出
2. ワールドクリア処理
3. retireコマンドの実装
4. 新ワールドへの移行機能

**チェックポイント**: ワールドを最初から最後までプレイできること

---


### 💾 プロジェクト9A: セーブデータ構造
**目標**: セーブデータの基本構造を実装する

**成果物**:
- SaveData構造の定義
- SaveManagerの実装

**タスク**:
1. SaveData構造の定義
2. SaveManagerの実装
3. 基本的なセーブ機能
4. セーブデータの検証

**チェックポイント**: セーブデータの保存が動作すること

---

### 💾 プロジェクト9B: ロードシステム完成
**目標**: ロード機能を完成させる

**成果物**:
- セーブポイント（.mdファイル）でセーブ可能
- タイトル画面からロード可能
- ゲーム状態の完全な保存・復元

**タスク**:
1. SaveValidatorの実装
2. セーブポイントの作用実装
3. load コマンドの実装
4. 完全なセーブ/ロードシステム

**チェックポイント**: セーブ/ロードが正常に動作すること

---

### ✨ プロジェクト13: ポリッシュ・最終調整
**目標**: ゲーム体験を向上させる

**成果物**:
- カラフルなUI
- アニメーション効果
- バランス調整済みのゲーム

**タスク**:
1. 色付きテキスト表示の実装
2. プログレスバーアニメーション
3. ゲームバランスの調整
4. エラーハンドリングの強化
5. パフォーマンス最適化

**チェックポイント**: 完成度の高いゲーム体験

---

## 各プロジェクトのワークフロー

1. **プランニング**
   - タスクの詳細分解
   - 技術的な課題の洗い出し
   - テスト計画の作成

2. **実装**
   - TDDでの開発
   - 段階的な機能追加
   - 継続的な動作確認

3. **テスト**
   - ユニットテスト作成
   - 統合テスト（必要に応じて）
   - 手動テスト

4. **デモ・レビュー**
   - 動作デモの実施
   - フィードバック収集
   - 次のプロジェクトへの要望確認

5. **改善**
   - フィードバックの反映
   - バグ修正
   - ドキュメント更新

## 成功指標

- 各プロジェクトで動作する成果物が提供される
- テストカバレッジ80%以上を維持
- プロジェクトごとにプレイ可能な状態を保つ
- フィードバックが次のプロジェクトに反映される

## リスク管理

- **技術的課題**: 早期に検証し、必要に応じて設計変更
- **スコープクリープ**: 各プロジェクトの目標を明確に維持
- **依存関係**: 順序を守り、基礎から着実に構築

## 次のアクション

プロジェクト1「基礎インフラ構築」から開始します。
タスクの詳細分解を行い、実装を開始してよろしいでしょうか？
