# アジャイル開発計画

## 開発体制
- **プロダクトオーナー（ステークホルダー）**: あなた
- **開発者**: Claude
- **レビューサイクル**: 各プロジェクト完了時

## プロジェクト一覧

### 🎯 プロジェクト1: 基礎インフラ構築 ✅
**目標**: CLIゲームの土台を作り、タイトル画面を表示する

**成果物**: 
- `npm start`でタイトル画面が表示される
- start/exit コマンドが動作する

**タスク**:
1. プロジェクト初期設定（package.json, tsconfig等）
2. エントリーポイント（index.ts）作成
3. Gameクラスとフェーズシステムの基礎実装
4. CommandParserの基礎実装
5. TitlePhaseの実装
6. 基本的なDisplay/UIユーティリティ

**チェックポイント**: タイトル画面でstart/exitが動作すること

---

### 📁 プロジェクト2: ファイルシステムナビゲーション ✅
**目標**: ゲーム内でディレクトリを移動できるようにする

**成果物**:
- ハードコードされた仮想ファイルシステムを探索できる
- ls, cd, pwd, tree コマンドが動作する

**タスク**:
1. FileNode, FileSystemクラスの実装
2. ExplorationPhaseの基礎実装
3. ナビゲーションコマンド（cd, ls, pwd, tree）の実装
4. 仮のファイルシステム構造を作成
5. コマンド履歴とTab補完機能

**チェックポイント**: ディレクトリ間を自由に移動でき、ファイル一覧が見られること

---

### 🌍 プロジェクト3: ワールド生成システム ✅
**目標**: ランダムなワールドを生成し、探索できるようにする

**成果物**:
- ゲーム開始時にランダムなワールドが生成される
- ドメインに応じた名前のディレクトリ/ファイルが生成される
- コマンド補完システムの実装

**タスク**:
1. Worldクラスの実装
2. WorldGeneratorの実装
3. domainsデータの作成
4. ランダム生成アルゴリズムの実装
5. ボスディレクトリと鍵の配置（アクセスはまだ不可）
6. Tab補完機能の実装

**チェックポイント**: 毎回異なるワールドが生成され、探索できること

---

### 📂 プロジェクト4: ファイル相互作用システム
**目標**: ファイルに対して作用（cat, head, vim等）できるようにする

**成果物**:
- ファイル操作コマンド（cat, head, file, vim, chmod等）が動作する
- ファイルタイプ判定システム
- モンスター戦闘への遷移機能
- 宝箱アイテム取得機能
- セーブポイント機能
- イベント発動機能

**タスク**:
1. ファイル操作コマンドの実装
2. ファイルタイプ判定システムの実装
3. モンスター戦闘への遷移機能
4. 宝箱アイテム取得機能
5. セーブポイント機能
6. イベント発動機能

**チェックポイント**: ファイル操作とゲーム要素の基本的な相互作用が動作すること

---

### 👤 プロジェクト5: プレイヤーシステム
**目標**: プレイヤーのステータスを管理し、表示できるようにする

**成果物**:
- statusコマンドでステータス表示
- HP/MPの概念が導入される

**タスク**:
1. Playerクラスの実装
2. Statsクラスの実装
3. statusコマンドの実装
4. HP/MP表示の追加
5. レベルシステムの基礎実装

**チェックポイント**: プレイヤーステータスが確認できること

---

### 📦 プロジェクト6: アイテムシステム
**目標**: 宝箱からアイテムを入手できるようにする

**成果物**:
- 宝箱ファイル（.json/.yaml）を開くとアイテム入手
- インベントリでアイテム確認可能

**タスク**:
1. Item基底クラスの実装
2. ConsumableItemの実装
3. Inventoryクラスの実装
4. 宝箱の作用実装（catコマンド）
5. InventoryPhaseとinventoryコマンドの実装

**チェックポイント**: アイテムの入手と確認ができること

---

### ⚔️ プロジェクト7: 装備システム
**目標**: 装備アイテムと英文法チェック機能を実装する

**成果物**:
- 装備アイテムを5つまで装備可能
- 英文として成立する組み合わせのみ装備可能

**タスク**:
1. EquipmentItemの実装
2. Equipmentクラスと文法チェック機能
3. 装備コマンド（equip/unequip）の実装
4. 装備効果の計算と反映
5. 装備データの作成

**チェックポイント**: 装備の変更と文法チェックが動作すること

---

### ⌨️ プロジェクト8: タイピングシステム
**目標**: リアルタイムタイピングチャレンジを実装する

**成果物**:
- 独立したタイピングテストモード
- 速度と精度の評価が表示される

**タスク**:
1. TypingChallengeクラスの実装
2. TypingEvaluatorの実装
3. WordDatabaseの作成
4. TypingPhaseの実装
5. リアルタイム入力処理とプログレス表示

**チェックポイント**: タイピングチャレンジが単体で動作すること

---

### 💾 プロジェクト9: セーブ/ロードシステム
**目標**: ゲームの進行状況を保存/読み込みできるようにする

**成果物**:
- セーブポイント（.mdファイル）でセーブ可能
- タイトル画面からロード可能
- ゲーム状態の完全な保存・復元

**タスク**:
1. SaveData構造の定義
2. SaveManagerの実装
3. SaveValidatorの実装
4. セーブポイントの作用実装
5. load コマンドの実装

**チェックポイント**: セーブ/ロードが正常に動作すること

---

### 🗡️ プロジェクト10: 戦闘システム
**目標**: モンスターとの戦闘を実装する

**成果物**:
- モンスターファイル（.js/.ts/.py）で戦闘開始
- ターン制バトルが機能する
- 技使用時にタイピングチャレンジ発生

**タスク**:
1. Enemyクラスの実装
2. Battleクラスの実装
3. BattlePhaseの実装
4. BattleCalculatorの実装
5. 技システムとタイピング連携

**チェックポイント**: 戦闘が最初から最後まで動作すること

---

### 🎲 プロジェクト11: イベントシステム
**目標**: ランダムイベントを実装する

**成果物**:
- イベントファイル（.exe/.bin）でイベント発生
- 良い/悪いイベントがランダムに発生
- タイピングで悪いイベントを回避可能

**タスク**:
1. RandomEventクラスの実装
2. GoodEvents/BadEventsの実装
3. イベントファイルの作用実装
4. DialogPhaseの実装
5. イベント効果の実装

**チェックポイント**: 各種イベントが正常に動作すること

---

### 👑 プロジェクト12: ボス・鍵システム
**目標**: ワールドクリアの仕組みを完成させる

**成果物**:
- 鍵を持っているとボスディレクトリに入れる
- ボスを倒すとワールドクリア
- 新ワールドへの移行が可能

**タスク**:
1. KeyItemの実装
2. ボスディレクトリのアクセス制御
3. ボス戦の特別な演出
4. ワールドクリア処理
5. retireコマンドの実装

**チェックポイント**: ワールドを最初から最後までプレイできること

---

### ✨ プロジェクト13: ポリッシュ・最終調整
**目標**: ゲーム体験を向上させる

**成果物**:
- カラフルなUI
- アニメーション効果
- バランス調整済みのゲーム

**タスク**:
1. 色付きテキスト表示の実装
2. プログレスバーアニメーション
3. ゲームバランスの調整
4. エラーハンドリングの強化
5. パフォーマンス最適化

**チェックポイント**: 完成度の高いゲーム体験

---

## 各プロジェクトのワークフロー

1. **プランニング**
   - タスクの詳細分解
   - 技術的な課題の洗い出し
   - テスト計画の作成

2. **実装**
   - TDDでの開発
   - 段階的な機能追加
   - 継続的な動作確認

3. **テスト**
   - ユニットテスト作成
   - 統合テスト（必要に応じて）
   - 手動テスト

4. **デモ・レビュー**
   - 動作デモの実施
   - フィードバック収集
   - 次のプロジェクトへの要望確認

5. **改善**
   - フィードバックの反映
   - バグ修正
   - ドキュメント更新

## 成功指標

- 各プロジェクトで動作する成果物が提供される
- テストカバレッジ80%以上を維持
- プロジェクトごとにプレイ可能な状態を保つ
- フィードバックが次のプロジェクトに反映される

## リスク管理

- **技術的課題**: 早期に検証し、必要に応じて設計変更
- **スコープクリープ**: 各プロジェクトの目標を明確に維持
- **依存関係**: 順序を守り、基礎から着実に構築

## 次のアクション

プロジェクト1「基礎インフラ構築」から開始します。
タスクの詳細分解を行い、実装を開始してよろしいでしょうか？